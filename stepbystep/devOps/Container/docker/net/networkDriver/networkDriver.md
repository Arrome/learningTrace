# 网络模式

网络模式
-----

1. Bridge networks: 当多个容器在同一个Docker主机上通信时，最佳
2. Host networks：当网络堆栈不应与Docker主机隔离，但希望隔离其他容器，最佳
3. Overlay networks： 当不同Docker主机上运行容器需要通信时，或者多个应用程序使用swarm服务协同工作时，最佳
4. Macvlan networks： 当从VM设置迁移或需要容器看起来想物理主机（具有唯一mac地址），最佳
5. Third-party network plugins： Docker与专用网络堆栈集成

容器运行时配置网络模式
-------------
|网络配置|网络含义|适用场景|
|---|---|
|`--net=bridge`| 默认值，在Docker网桥上**为容器创建新的网络栈**||
| `--net=host` |Docker**不将容器网络放到隔离的命名空间中**。(容器**使用本地主机网络，拥有完全的本地主机接口访问权限**。容器进程可以跟主机其他root进程一样打开低范围的端口，可以访问本地网络服务，如D-bus，还可以让容器影响整个主机系统的事情，如重启主机。进一步使用`--privileged=true`容器甚至会被允许直接配置主机网络堆栈)||
|`--net=container`| 新建容器的进程放到一个已存在容器的网络堆栈。新容器进程有自己的文件系统、进程列表、资源限制，但会和已存在的容器共享IP地址和端口等网络资源。两者进程可直接通过lo换回接口通信||
|`--net=none` |将**新容器放到隔离的网络栈中，但不进行网络配置**。之后，用户可以自己进行配置|**容器不需要网络**，例如只需要写磁盘卷的批处理任务|
