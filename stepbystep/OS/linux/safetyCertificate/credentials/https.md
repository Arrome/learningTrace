# HTTPS

工作流程
--------
1. 浏览器发起https请求，将自己支持的一套加密规则发送给服务端
2. 服务端从中选出一组加密算法与HASH算法，并将自己的身份信息以及证书的形式发回浏览器（证书包含服务器地址，加密公钥以及证书颁发机构等信息）
3. 获得服务器证书，浏览器工作：
  * 验证证书合法性（颁发证书的机构是否合法，证书中服务端地址是否和正在访问地址是否一致等）
  * 如果证书受信任或用户接受了不受信的证书，浏览器会生成一串随机数的密码，并用证书提供的公钥加密
  * 使用也定好的HASH计算握手消息，并用生成的随机数对消息进行加密，最后将之前生成的所有信息发送给服务器
4. 服务端接受到浏览器数据，操作：
  * 使用自己私钥将信息解密取出密码，使用密码解密浏览器发来握手消息，并验证HASH是否和浏览器发来一致
  * 使用密码加密一段握手消息，发送给浏览器
5. 浏览器解密并计算握手消息的HASH，如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用加密算法进行加密
