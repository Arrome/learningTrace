# 模板模式

**概念（定义）**：定义一个操作中的算法框架，而将一些步骤延迟到子类中，使子类可以不改变算法的结构，就可以重新定义算法的某些特定步骤。（仅使用java的继承机制）

**优点**：
1. 封装不变部分，扩展可变部分
2. 提供公共部分代码，便于维护
3. 行为由父类控制，子类实现（符合开闭原则）

**使用场景**：
1. 多个子类有公有方法，并且逻辑基本相同时
2. 重要复杂的算法，可以把核心算法设计为模板方法，周边细节功能由子类实现
3. 重构时，常用模式，相同代码抽取到父类中，通过钩子函数约束行为

**扩展**：
**通过定义一个钩子函数来控制模板方法的执行结果**（子类的一个方法返回值影响一个或多个基本方法，从而影响模板方法的执行结果）

抽象模板（AbstractClass）的方法：
1. 基本方法：由子类实现的方法，在模板方法中被调用
2. 模板方法：一个或多个，一般是具体方法，实现对基本方法调度，完成固定逻辑

> **一般模板方法都加上final关键字**，不允许被覆写（为防止恶意操作）

> 抽象模板的**基本方法 尽量设计为 protected 类型**（符合迪米特法则，**实现类若非必要，尽量不要扩大父类中的访问权限**）
